<!DOCTYPE html>
<html lang="en">
<head>
    <!-- include relevant libraries  -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">
    </script>

    <style>
        .header {
            background: #0A0023;
            text-align: center;
            color: white;
            width: 100%;
            height: 10%;
        }
    </style>  
</head>


<body>
  <div class="header">
    Bluewolf Insurance - Heroku POC
  </div>
<br><br>
    <table >
        <tr>
            <td>
                <img src="<%= user.profileurl__c %>" class="img-circle" alt="Cinque Terre" width="150" height="150">
            </td>
            <td>
                 <h3><p class="text-secondary"> &nbsp; Welcome, <%= user.name %>&nbsp; </p></h3>
            </td>
        </tr>
     </table>   

     <!-- Menu Bar - To create multiple tabs on the page --> 
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="true">Profile Management</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#case" role="tab" aria-controls="case" aria-selected="false"> Cases Management </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="article-tab" data-toggle="tab" href="#article" role="tab" aria-controls="article" aria-selected="false">Knowledge Management</a>
        </li>
    </ul>
        <div class="tab-content" id="myTabContent">

        <!-- Profile Tab (First tab of the Menu tab) --> 
        <div class="tab-pane fade active" id="profile" role="tabpanel" aria-labelledby="profile-tab">

            <br>
           <form action='/saveProfile' method="POST">
                <div class="form-group">
                    <label><h5 class="text-secondary">   Name  </h5></label>
                    <input type="text" name="name" value= "<%= user.name %>" class="form-control">

                    <label><h5 class="text-secondary">   Title   </h5></label> 
                    <input type="text" name="title" value= "<%= user.title %>" class="form-control">

                    <label><h5 class="text-secondary">   Mobile Phone   </h5></label>
                    <input type="text" name="mobilePhone" value= "<%= user.mobilephone %>" class="form-control">
                    <br>
                    <input type="submit" id = 'submit' value = "Submit" class="btn btn-primary"> </td>

                    <input type="hidden" name="externalid" value="<%= user.externalid__c %>" />
                </div>
            </form>
        </div>

       <!-- Case Tab (Second tab of the Menu tab) --> 
        <div class="tab-pane fade" id="case" role="tabpanel" aria-labelledby="case-tab">
            <br>
           <p align="right"> <a href="/retrieveCaseForm" class="btn btn-primary" role="button" aria-pressed="true">Create Case</a></p>
            <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col"> Case Number </th>
                            <th scope="col"> Subject </th>
                            <th scope="col"> Status </th>
                            <th scope="col"> Date/Time Opended </th>
                        </tr>
                    </thead>
                    <tbody>
                        <%cases.forEach(function(item) {%>
                         <tr>
                            <td><a href="/retrieveCaseDetails?id=<%= item.casenumber %>"><%= item.casenumber %></a></td>
                            <td><%= item.subject %></td>
                            <td><%= item.status %></td>
                            <td><%= new Date(item.createddate).toISOString().slice(0,10) + " " + new Date(item.createddate).toISOString().slice(11,19)%></td>
                         </tr>   
                         <% });%>
                    </tbody>
            </table>
        </div>


        <!-- Knowledge Management (Third tab of the Menu tab)   -->
        <div class="tab-pane fade" id="article" role="tabpanel" aria-labelledby="article-tab">
           <br>
            <input list="articles" class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">

            <datalist id="articles">
             
              <option value="Safari">

            </datalist>
        
       </div>
    </div>





</body>
</html>
